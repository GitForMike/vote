(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),l=a(2115),r=a(8915),n=a(8999),i=a(6874),c=a.n(i);function d(){let[e,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)(null),u=(0,n.useRouter)(),m=async t=>{if(t.preventDefault(),!e.trim()){o("가수 이름을 입력하세요.");return}i(!0),o(null);try{await (0,r.k8)(e),u.push("/")}catch(e){console.log(e),o("가수 등록 중 오류가 발생했습니다.")}finally{i(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-white py-10 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-lg",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"새로운 가수 등록"}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[d&&(0,s.jsx)("p",{className:"text-red-500 text-center",children:d}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"singerName",className:"text-lg font-medium text-gray-700 mb-2",children:"가수 이름"}),(0,s.jsx)("input",{id:"singerName",type:"text",value:e,onChange:e=>t(e.target.value),className:"p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"가수 이름을 입력하세요",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold transition-all hover:bg-blue-400 disabled:bg-gray-300",children:a?"등록 중...":"가수 등록"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(c(),{href:"/",className:"text-blue-500 hover:underline",children:"메인 페이지로 돌아가기"})})]})})}},3472:(e,t,a)=>{Promise.resolve().then(a.bind(a,2273))},8915:(e,t,a)=>{"use strict";a.d(t,{TO:()=>i,k8:()=>d,kx:()=>c});var s=a(3915),l=a(5317);let r=(0,s.Wp)({apiKey:"AIzaSyDDgwWw7xHv3QXUfQ3NeRMKeslliq-_LJ4",authDomain:"voting-59a7a.firebaseapp.com",projectId:"voting-59a7a",storageBucket:"voting-59a7a.firebasestorage.app",messagingSenderId:"706916625333",appId:"1:706916625333:web:9e50ed99ccef65241587fc",measurementId:"G-J9RY10WG3P"}),n=(0,l.aU)(r),i=async()=>{let e=(0,l.rJ)(n,"singers");return(await (0,l.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))},c=async e=>{let t=(0,l.H9)(n,"singers",e),a=await (0,l.x7)(t);if(a.exists()){let e=a.data().votes+1;await (0,l.mZ)(t,{votes:e})}else console.error("가수를 찾을 수 없습니다.")},d=async e=>{let t=(0,l.H9)(n,"singers",e);await (0,l.BN)(t,{name:e,votes:0})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,298,441,684,358],()=>t(3472)),_N_E=e.O()}]);